<!-- dashboard.html -->
{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}

    <div class="conversation-history">
        {% for entry in conversation_history %}
            <div class="prompt-box">
                <strong>Prompt:</strong>
                <p>{{ entry.prompt }}</p>
            </div>
            <div class="response-box">
                <strong>Response:</strong>
                <pre>{{ entry.response|safe }}</pre>
                <button class="copy-button">Copy</button>
            </div>
        {% endfor %}
    </div>

    <div class="form-container">
        <form id="promptForm" method="post" enctype="multipart/form-data">
            <textarea id="promptInput" name="prompt" required rows="20" class="full-width-textarea"></textarea>
            <input type="file" id="fileInput" name="files" multiple>
            <button type="submit">Generate</button>
        </form>
        <button id="clearHistory" onclick="clearHistory()">Clear History</button>
        <div id="responseContainer"></div>
    </div>

    <script src="{{ url_for('static', filename='js/codeBlockHandling.js') }}"></script>
    <script src="{{ url_for('static', filename='js/navigation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ajaxHandling.js') }}"></script>
{% endblock %}